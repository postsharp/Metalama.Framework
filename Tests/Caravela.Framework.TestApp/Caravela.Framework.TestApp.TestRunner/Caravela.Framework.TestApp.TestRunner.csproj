<Project>

  <!-- This file is to be included in Caravela.sln to let the Test App to be built when `dotnet test` is executed in the repo. -->

  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />

  <PropertyGroup>
    <TargetFramework>netcoreapp3.1</TargetFramework>
    <EnableDefaultItems>false</EnableDefaultItems>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="$(MicrosoftNETTestSdkVersion)" />
  </ItemGroup>

  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />

  <!-- Here we override the target called by the `dotnet test` command. The override has to be defined after the import of Sdk.targets. -->
  <Target Name="VSTest">
    <Exec Command="dotnet build ..\Caravela.Framework.TestApp\Caravela.Framework.TestApp.csproj --nologo" WorkingDirectory="$(MSBuildThisFileDirectory)" />
  </Target>
</Project>
