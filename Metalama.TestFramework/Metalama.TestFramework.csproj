<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFrameworks>netstandard2.0</TargetFrameworks>
        <Description>Provides a base class AspectUnitTestBase that allows you to unit test Metalama aspects with xUnit.</Description>
    </PropertyGroup>

    <ItemGroup>
        <!-- Workspaces is used in TestRunner, Workspaces.Lightweight is a dependency of Metalama.Framework.Engine -->
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp.Workspaces" Version="$(RoslynVersion)"/>
        <PackageReference Include="xunit.assert" Version="$(xUnitVersion)"/>
        <PackageReference Include="xunit.extensibility.core" Version="$(xUnitVersion)"/>
        <PackageReference Include="xunit.extensibility.execution" Version="$(xUnitVersion)"/>
        <PackageReference Include="Metalama.Backstage" Version="$(MetalamaBackstageVersion)"/>
    </ItemGroup>

    <ItemGroup>
        <ProjectReference Include="..\Metalama.Framework.Engine\Metalama.Framework.Engine.csproj"/>
        <ProjectReference Include="..\Metalama.Framework.Sdk\Metalama.Framework.Sdk.csproj"/>
        <ProjectReference Include="..\Metalama.Framework\Metalama.Framework.csproj"/>
    </ItemGroup>

    <ItemGroup>
        <InternalsVisibleTo Include="Metalama.Framework.Tests.Integration.Internals"/>
        <InternalsVisibleTo Include="Metalama.Framework.Tests.UnitTests.Internals"/>
        <InternalsVisibleTo Include="Metalama.AspectWorkbench"/>
        <InternalsVisibleTo Include="DynamicProxyGenAssembly2" Key="$(FakeItEasyKey)" LoadsWithinVisualStudio="false"/>
    </ItemGroup>

    <ItemGroup>
        <Compile Include="..\IsExternalInit.cs">
            <Link>SystemTypes\IsExternalInit.cs</Link>
        </Compile>
    </ItemGroup>

    <ItemGroup>
        <None Include="Metalama.TestFramework.props">
            <Pack>true</Pack>
            <PackagePath>build</PackagePath>
        </None>
        <None Include="Metalama.TestFramework.targets">
            <Pack>true</Pack>
            <PackagePath>build</PackagePath>
        </None>
    </ItemGroup>


</Project>
